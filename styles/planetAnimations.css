/* Inspired by http://www.independent-software.com/deconstructing-css-3-making-of-css3-solar-system-animation-3d-transformations.html */

/* Background */
#galaxy {
  display: block;
  width: 100%;
  height: 15em;
  margin-bottom: 5em;
  transform: rotateX(85deg);
  transform-style: preserve-3d;
}

#sun,
.orbitingPlanet {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 1em;
  height: 1em;
  margin-top: -0.5em;
  margin-left: -0.5em;
  border-radius: 50%;
  transform-style: preserve-3d;
}

#sun {
  background-color: #fb7209;
  box-shadow: 0 0 60px rgba(255, 160, 60, 0.4),
    inset -25px -20px 80px rgba(0, 0, 0, 0.6);
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  transform: rotateX(-85deg);
}

.pos {
  position: absolute;
  transform-style: preserve-3d;
  animation: invert infinite linear;
}

.orbitingPlanet {
  background-color: grey;
  background-size: cover;
  animation: shadow infinite linear;
}

.orbit {
  position: absolute;
  top: 50%;
  left: 50%;
  border: 3px solid rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  animation: orbit 5s infinite linear;
  transform-style: preserve-3d;
}

.orbiting-ring {
  position: relative !important;
  transform: rotate3d(0.8, 0.2, 0, 80deg) !important;
  height: 2em;
}

/* Animations */
@keyframes orbit {
  0% {
    transform: rotateZ(0deg);
  }
  100% {
    transform: rotateZ(-360deg);
  }
}

@keyframes invert {
  0% {
    transform: rotateX(-90deg) rotateY(360deg) rotateZ(0deg);
  }
  100% {
    transform: rotateX(-90deg) rotateY(0deg) rotateZ(0deg);
  }
}

/* Orbit sizes */
.orbit {
  width: 15em;
  height: 15em;
  margin-top: -7.5em;
  margin-left: -7.5em;
}

/* Planet starting positions */
.pos {
  left: 50%;
  top: -1px;
}

/* Planet animation durations */
.orbit,
.pos {
  animation-duration: 5.89016s;
}

/* Planet shadow animations */
.orbitingPlanet {
  animation-duration: 5.89016s;
}

@keyframes shadow {
  0% {
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
    /* TOP */
  }

  25% {
    box-shadow: inset 16px 0 8px rgba(0, 0, 0, 0.5);
    /* LEFT */
  }

  45% {
    box-shadow: inset 40px -20px 16px rgba(0, 0, 0, 0.5);
    /* BOTTOM */
  }

  50% {
    box-shadow: inset 40px -40px 40px rgba(0, 0, 0, 0.6);
    /* FRONT */
  }

  75% {
    box-shadow: inset -40px -20px 16px rgba(0, 0, 0, 0.5);
    /* BOTTOM */
  }

  100% {
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
    /* TOP */
  }
  from {
    background-position-x: 0;
  }
  to {
    background-position-x: 300px;
  }
}
